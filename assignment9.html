<!DOCTYPE html>
<html>
	<title>Show City Population as Circles by Year (1790 - 1990) from geoJSON file</title>
	   <script src="https://maps.googleapis.com/maps/api/js"></script>
  <head>
    <style type="text/css">
      html, body{ height: 100%; margin: 0; padding: 0; }
      #map { height: 100%;}
    </style>
      </head>
 <script type="text/javascript">  
    <body>
<label> Year: </label> <input type ="number" id ="year" />
<label> Maximum Radius(m): </label> <input type ="number" id ="maxrad" /> <br>     
<button onclick="FUNCTION NAME HERE()">Show Population Circles</button> 
    <div id="map"></div>
	</body>

//create a map with the options to format the circles
var mapOptions = {
	zoom: 4,
	center: new google.maps.LatLng(37.09024, -95.712891),
	mapTypeId: google.maps.MapTypeId.TERRAIN
};
var map = new google.maps.Map(document.getElementById('map'),mapOptions);
map.data.loadGeoJson ('https://github.com/zerself/geog319/CityPopGJ.geojson');







//basic function to create circle including formating choices
/*function CreateACircle(loc, radius){
	var populationOptions = {
		strokeColor: '#FF0000',
		strokeOpacity: 0.8,
		strokeWeight: 2,
		fillColor: '#FF0000',
		fillOpacity: 0.35,
		center: loc,
		radius: radius
	};
	return new google.maps.Circle(populationOptions);
}
*/					
//Get city data from geoJSON file and add city circles to the map 
var cityCircles;
	function CreateCityCircles(json) {
		//get the number of cities
		var n=json.features.length; 			
		var radius= //use document.getElementByID('maxrad') to get radius, but need to insert computations
				
		//create circles for each city - need to factor in year selection using id year
		cityCircles=new Array(n);
		for (var i = 0; i <n; i++) {
		cityLoc=new google.maps.LatLng(json.feature[i].lat,json.feature[i].lon);
		cityCircles[i]=CreateACircle(cityLoc,radius);
		}
	}
	
	/* HIDE AND SHOW FUNCTIONS AND OLD FUNCTIONS FROM ASSIGNMENT 8 - DELETE ONCE DETERMINED UNNECESSARY		
			function ShowCircles() {
				var n=cityCircles.length;
				for (var i = 0; i <n; i++) {
					cityCircles[i].setMap(map);
				}
			}
			
			function HideCircles() {
				var n=cityCircles.length;
				for (var i = 0; i <n; i++) {
					cityCircles[i].setMap(null);
				}
			}

//old preparatory functions to calculate radius in the map
function FindMaxValue(data) {
	var maxValue=data[0];
	var n=data.length;
	for (i=1; i<n; i++) {
		if (data[i]>maxValue) {
			maxValue=data[i];
		}
	}
	return maxValue;
}
function CircleRadius(maxValue,maxRadius,value) {
	//calculate the radius for the value
	var radius=maxRadius*Math.pow(value/maxValue,0.57);
	return radius;
}		

//for assignment 9 this value will come from the user input above, need to add will always test with 150000
var maxRadius=

//find max population by calling the first prep function
var maxPop=FindMaxValue(metroPop);

//Calculate the radii for all the metro areas by calling the second prep function in a for loop
var n = metroPop.length
var cirRadius=new Array(n);
for (var i = 0; i <n; i++) {
	cirRadius[i]=CircleRadius(maxPop,maxRadius,metroPop[i]);
}

		
		//show the location and population of the cities as graduated circles
		for (var i=0; i<cities.length; i++) {
			// Construct the circle for each value in citymap.
			var popCircleOptions = {
				strokeColor: '#FF0000',
				strokeOpacity: 0.8,
				strokeWeight: 2,
				fillColor: '#FF0000',
				fillOpacity: 0.35,
				map: map,
				center: cities[i].center,
				radius: cirRadius[i]
			};
			var cityCircle = new google.maps.Circle(popCircleOptions);
		}
	}
	*/
	</script>
</html>
