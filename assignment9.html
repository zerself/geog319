<!DOCTYPE html>
<html>
	<title>Show City Population as Circles by Year (1790 - 1990) from geoJSON file</title>
  <head>
    <style type="text/css">
      html, body{ height: 100%; margin: 0; padding: 0; }
      #map { height: 100%;}
    </style>

      </head>

  <script type="text/javascript">  
    <body>
<label> Year: </label > <input type ="number" id ="year" />
<label> Maximum Radius(m): </label > <input type ="number" id ="maxrad" /> <br>     
<button>Show Population Circles</button>
    <div id="map"></div>
	</body>
	

//old preparatory functions to calculate radius in the map
function FindMaxValue(data) {
	var maxValue=data[0];
	var n=data.length;
	for (i=1; i<n; i++) {
		if (data[i]>maxValue) {
			maxValue=data[i];
		}
	}
	return maxValue;
}
function CircleRadius(maxValue,maxRadius,value) {
	//calculate the radius for the value
	var radius=maxRadius*Math.pow(value/maxValue,0.57);
	return radius;
}		

//for assignment 9 this value will come from the user input above, need to add will always test with 150000
var maxRadius=

//find max population by calling the first prep function
var maxPop=FindMaxValue(metroPop);

//Calculate the radii for all the metro areas by calling the second prep function in a for loop
var n = metroPop.length
var cirRadius=new Array(n);
for (var i = 0; i <n; i++) {
	cirRadius[i]=CircleRadius(maxPop,maxRadius,metroPop[i]);
}
//build the map	- this is the old code, need to insert code to pull info from geoJSON file and inputs
	var map;
	function initMap() {
		// Create an Array containing the objects of 3 example cities
		var cities = new Array(7);
		cities[0] = {
				name: 'Chicago',
				center: new google.maps.LatLng(chicago.lat, chicago.lng),
				population: chicago.pop
		};
		cities[1] = {
			name: 'Dallas',
			center: new google.maps.LatLng(dallas.lat, dallas.lng),
			population: dallas.pop
		};
		cities[2] = {
			name: 'Houston',
			center: new google.maps.LatLng(houston.lat, houston.lng),
			population: houston.pop
		};
        cities[3] = {
				name: 'Los Angeles',
				center: new google.maps.LatLng(la.lat, la.lng),
				population: la.pop
		};
		cities[4] = {
			name: 'New York',
			center: new google.maps.LatLng(ny.lat, ny.lng),
			population: ny.pop
		};
		cities[5] = {
			name: 'Philadelphia',
			center: new google.maps.LatLng(philly.lat, philly.lng),
			population: philly.pop
		};
		cities[6] = {
				name: 'Washington DC',
				center: new google.maps.LatLng(dc.lat, dc.lng),
				population: dc.pop
		}
		//create the map to show the cities
		map = new google.maps.Map(document.getElementById('map'), {
			center: {lat: 38.955, lng: -95.255}, //Lawrence
			zoom: 4
		});
		
		//show the location and population of the cities as graduated circles
		for (var i=0; i<cities.length; i++) {
			// Construct the circle for each value in citymap.
			var popCircleOptions = {
				strokeColor: '#FF0000',
				strokeOpacity: 0.8,
				strokeWeight: 2,
				fillColor: '#FF0000',
				fillOpacity: 0.35,
				map: map,
				center: cities[i].center,
				radius: cirRadius[i]
			};
			var cityCircle = new google.maps.Circle(popCircleOptions);
		}
	}
	</script>
	<script async defer
		src="https://maps.googleapis.com/maps/api/js?callback=initMap">
	</script>
</html>
